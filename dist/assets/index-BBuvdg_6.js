import{l as C,d as V,y as I,x as O,a as E,$ as n,r as T,o,c as u,w as e,f as s,h as t,b as A,F as N,p as w,g as i,t as d,O as h,I as $,N as z,H as F}from"./index-CsZ02Qr7.js";import{_ as H}from"./Space-B75Zs6g2.js";import{_ as U,a as P}from"./DescriptionsItem-HFkKiIpu.js";function R(){const p=C();function m(l){return p.isLogin?typeof l=="string"?p.userInfo.buttons.includes(l):l.some(r=>p.userInfo.buttons.includes(r)):!1}return{hasAuth:m}}const M=V({name:"function_toggle-auth",__name:"index",setup(p){const m=I(),l=C(),{hasAuth:r}=R(),{loading:b,startLoading:B,endLoading:L}=O(),S=E(()=>[{key:"super",label:n("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:n("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:n("page.login.pwdLogin.user"),userName:"User",password:"123456"}]),f=T("super");async function v(_){f.value=_.key,B(),await l.login(_.userName,_.password,!1),L(),m.reloadPage()}return(_,j)=>{const x=$,c=H,k=U,g=z,D=P,y=F;return o(),u(c,{vertical:"",size:16},{default:e(()=>[s(y,{title:t(n)("route.function_toggle-auth"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(D,{bordered:"",column:1},{default:e(()=>[s(k,{label:t(n)("page.manage.user.userRole")},{default:e(()=>[s(c,null,{default:e(()=>[(o(!0),A(N,null,w(t(l).userInfo.roles,a=>(o(),u(x,{key:a},{default:e(()=>[i(d(a),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(k,{"ions-item":"",label:t(n)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(c,null,{default:e(()=>[(o(!0),A(N,null,w(S.value,a=>(o(),u(g,{key:a.key,loading:t(b)&&f.value===a.key,disabled:t(b)&&f.value!==a.key,onClick:q=>v(a)},{default:e(()=>[i(d(a.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["title"]),s(y,{title:t(n)("page.function.toggleAuth.authHook"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(c,null,{default:e(()=>[t(r)("B_CODE1")?(o(),u(g,{key:0},{default:e(()=>[i(d(t(n)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):h("",!0),t(r)("B_CODE2")?(o(),u(g,{key:1},{default:e(()=>[i(d(t(n)("page.function.toggleAuth.adminVisible")),1)]),_:1})):h("",!0),t(r)("B_CODE3")?(o(),u(g,{key:2},{default:e(()=>[i(d(t(n)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])]),_:1})}}});export{M as default};
